recursion times out but circulation does not